Разогревочные

1. 
    По результатам опроса некоторой группы людей известно:
        45 знают английский
        31 немецкий
        52 французский
   	все три языка знают 8 человек
   	англ и фра - 28
   	англ и нем - 16
   	нем и фра - 20
   	ни одного - один
    а) Сколько людей было опрошено?
    	Давайте искать то, сколько людей знает хотя бы один язык.
    	Введем следующие три свойства - человек знает английский, человек 		 знает немецкий, человек знает французский.
    	Тогда при при нахождении количества людей обладающих хотя бы одним из свойств, мы сведем к задачу к поиску мощности объеденения множеств. Тогда применяя метод включений-исключений имеем
    	Х = 45 + 31 + 52 - 28 - 16 - 20 + 8 = 72
    	Мы нашли всех людей говорящих хотя бы на одном из языков.
    	Вспоминая про одного, не говорящего ни на одном имеем ответ - 73.
    б) Сколько из опрошенных знают немецкий язык?
    	Рассмотрит множество людей знающих только немецкий.
    	Посчитаем число людей знающий немецкий и хотя бы один из других языков.
    	Имеем два свойства - человек знает АН, НФ.
    	
    	Нужно найти количество людей обладающих хотя бы одним из них тогда это есть:
    		16 + 20 - 8 = 28
    	Зная количество людей знающих немецкий и количество людей знающих немецкий и еще какой-то нетрудно вычислить ответ на задачу:
    	31 - 28 = 3.
2.
	Сколько чисел от 1 до 1000, которые не делятся ни на 3, ни на 7, ни на 5.
	Зная общее количество чисел, найдем количество чисел делящихся хотя бы на одно из приведенных чисел.
	Имеем три свойства - число делится на 3,5,7.
	
	Х = 1000/3 + 1000/5 + 1000/7 -1000/15 - 1000/21 - 1000/35 + 1000/105 = 333 + 200 + 142 - 66 -47-28+9 = 543.
	Тогда наш ответ - 1000 - 543 = 457.
Базовые:
	3. X - мн-во
	  |X| = n
	  сколько существует перестановок таких, что:
	  а) фиксированные три элемента не образуют блок.
	     Зная общее количество перестановок, будем искать те, в которых эти три элемента образуют блок.
	     Введем следующее свойство - три заданных элемента образуют 	блок
	     У нас есть P(3) способов образовать этот блок.
	     Теперь, когда мы имеем некий блок, будем рассматривать его и остаток X как единое множество.
	     Тогда количество нужные нам перестановок - количество перестановок нового множества, т.е. P(n -3 +1) * P(3)
	     Теперь зная количество перестановок в которых три элемента не образуют блок есть P(n) - P(3)*P(n-3+1)
	    б) никакие два фиксированных элемента не стоят рядом
	       Зная общее количество перестановок, будем искать те, в которых заданные два элемента стоят рядом.
	       Тогда введем три свойства - ab, ac, bc -стоят рядом(именно стоят рядом, а не образуют упорядоченную пару)
	       Тогда количество таких перестановок можно посчитать методом включений-исклоючений:
	       a
	       Х = (ab) + (ac) + (bc) - (ab,ac) - (ab,bc) - (ac,bc) + (ac,bc,ab) =   3*P(2) * P(n-1) - 3*P(2)  * P(n-2) + 0
	       Ответ -   P(n) - (3*P(2) * P(n-1) - 3*P(2)  * P(n-2))
4.
	Три англичанина
	Три немца
	Три француза
	Все люди разные
	
	Нужно рассадить их так, чтобы никакие три соотечественника не образовывали "блок"
	
	Введем следующие свойства для некой перестановки - англичане  образуют блок, немцы  образуют блок, французы  образуют блок.
	
	Давайте найдем количество всех перестановок, в которых выполняется хотя бы одно свойство.
	
	А + Ф + Н - (АиФ) - (АиН) - (НиФ) + (АиНиФ) = 
	
	 3* P(3)*P(7) - 3*P(5)*(P(3)*P(3)) + P(3)*P(3)*P(3).
	 Мы нашли количество ненужных нам перестановок, тогда количество нужных будет : P(9) - ( 3* P(3)*P(7) - 3*P(5)*(P(3)*P(3)) + P(3)*P(3)*P(3))
	   
5. Дан набор цифр 1 2 3 4 1 1 4 5 4 6
		  - - -- - - 
		  1 2 3 4 5 6
		  - - - - - -
		  3 1 1 3 1 1  -- 10
   Найти число таких перестановок, что никакие 3 одинаковые цифры не стояли рядом.
   Возможные кандидаты на образование блока: 1,4.
   
   Тогда применим ту же логику, что и в прошлой задаче, с тем лишь исключением, что теперь у нас перестановки в мультимножестве
   
   С(10)(3,1,1,3,1,1) - (2*С(8)(1,1,1,3,1,1) - С(6)(1,1,1,1,1,1))

6.
    n   наборов, в каждом q одинаковых элементов. Элементы наборов различны. Сколькими способами можно разместить nq элементов, чтобы никакие q одинаковых элементов не образовывали блок.
    
    Будем рассматривать перестановки мультимножества состоящего из всех наборов описанных в условии.
    Тогда общее кол-во таких перестанвок - C(nq)(q,q...q)
    Введем следующие n свойств- элементы i-го набора образуют блок.
    
    Тогда используя принцип включений-исключений имеем
    
    X = ((-1)^i)SUM(1<=i<=n)(C(n,i) * C(nq - q*i + i)(1.(i-раз).1,q..q))
    
    тогда остается отнять от общего количества нколчиесвто ненужеых
7.
   Сколько существует различных беспорядков на множестве {1,2,...,n} ?
   
   Введем следующие свойства - i-й элемент стоит на своем "родном" месте.
   
   При таком определении свойств не беспорядком будет такая перестановка множества, которая обладает хотя бы одним из указанных свойств.
   Тогда применим метод включений-исключений, чтобы сосчитать их.
   
   Определим сколько существует перестановок обладающих k свойствами.
   Это очень просто, то что перестановка обладает k  свойствами обозначает, что позиции k  её элементов зафиксированы, а это значит, что таких перестановок -  P(n-k)
    тогда количество не беспорядков будет иметь вид:
    
     SUM(i = 1...n)(C(n,i) * P(n-i)) = SUM(i = 1...n)(n!/(i!))
     
      Тогда ответ на задачу - n! - (n! - n!/2 + n!/6...) = n!/2 - n!/6...

8. 
	А и В - два конечных непустых множества.
	|A| = n
	|B| = k
	Сколько существует сюръективных отображений из А и В?
	
	Сюръективное отображение - каждому игрику хотя бы один икс.
	
	Общее количество отображений можно посчитать как A(k,n) с повторениями.
	Тогда посчитаем количество не сюръективных перестановок. 
	Исходя из определения - не сюръективная перестановка это такая перестановка, что существует игрик в который не ведет ни один икс.
	
	Тогда введем следующие k свойств - Bk-му не соответсвует ни один икс.
	Тогда посчитаем количество отображений обладающих m свойствами.
	выберем неупорядоченно m игриков которым не будет соответствовать ни один икс и "выкинем" их из множества B.
	Тогда количество искомых отображений будет равно C(k,m) * A(k-m,n) с повторениями.
	C(k,m) * A(k-m,n) с повторениями = k!/(m!(k-m)!) * (k-m)^n
	
	Тогда наш ответ - A(k,n) с повторениями - SUM(i=1...k)((-1)^i * C(k,i) * A(k-i,n) с повторениями)
	
9. 
    r - целое неотрицательное
    n - натуральное 
    
    Нужно найти количество решений уравнения x1 + ... + xn = r в целых неотрицательных числах если:
    а) 0<=xi<=q
    	Мы знаем как найти общее количество решений - C(n,r) с повторениями.
    	Тогда введем следующие свойства - xi>q
    	
    	Теперь попробуем посчитать сколько существует решений обаладающих  k  свойствами.
    	Мы неупорядоченно выбираем k свойств, теперь мы знаем, что в решении есть  k чиел больших q. Сколько таких решений?
    	То что число больше q означает, что оно не менее q+1.
    	Тогда расставим по к позициями (q+1) единиц.
    	У нас осталось r - k*(q+1) единиц которые мы можем распределить как хотим, то есть у нас есть C(n,r - k*(q+1)) с повторениями способов распределить единицы по слагаемым.
    	
    	Тогда ответ на задачу -- C(n,r) с повторениями - SUM(i=1...n)((-1)^i(C(n,r - i*(q+1))))
     б) p<=xi<=q
     
     	Давайте найдем общее количество решений, у которых нет слагаемых меньших либо равных p, то есть каждое слагаемое >=p+1.
     	
     	Тогда таких решений - C(n,r) с повторениями - С(n,r - n*(p+1)) с повторениями
     	Далее будем рассмтаривать только такие решения
     	Тогда введем набор свойств - xi > q
     	
	Количество решений облададающих k такими свойствами (как было посчитано в пред. пункте) C(n,r - k*(q+1) - (n-k)*(p+1)) с повторениями
	
	Тогда ответ на задачу:
	
	 C(n,r) с повторениями - С(n,r - n*(p+1)) с повторениями -  SUM(i=1...n)((-1)^i*(C(n,r - i*(q+1) - (n-i)*(p+1))))
